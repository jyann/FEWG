<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">

<script 
src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js">
</script>

<style>
.err{
	color: red;
}
</style>
<script src="js/fewg-app.js">
</script>

</head>
<body ng-app="FEWGApp">
	<div ng-controller="ClientCtrl as client">
		<div ng-show="client.status == 'connecting'">
			<form ng-submit="client.openConn()">
				<input type="text" ng-model="client.server_addr"/>
				<input type="text" ng-model="client.server_port"/>
				<input type="submit" value="Connect"/>
			</form>
		</div>
		<div ng-show="client.status == 'logging_in'">
			<form ng-submit="client.sendInput()">
				<input type="text" ng-model="client.username"/>
				<input type="password" ng-model="client.password"/>
				<input type="submit" value="Login"/>
			</form>
			<br/>
			<button ng-click="client.sendMsg('quit')">Disconnect</button>
		</div>
		<div ng-show="client.status == 'inlobby'">
			<table><tr>
				<td ng-repeat="game in client.data.games">
					{{game.name}} <br/>
					Players: {{game.player_count}} <br/>
					<button ng-click="client.sendMsg('join game '+game.name)">
						Join</button>
				</td>
			</tr></table>
			<form ng-submit="client.sendInput()">
				<input type="text" ng-model="client.lobby_input"/>
				<input type="submit" value="Send"/>
			</form>
			<br/>
			<button ng-click="client.sendMsg('logout')">Logout</button>
			<button ng-click="client.sendMsg('quit')">Disconnect</button>
		</div>
		<div ng-show="client.status == 'ingame'">
			<table><tr>
				<td ng-repeat="player in client.data.gamedata.players">
					{{player.name}}<br/>
					HP: {{player.vars.health}}/{{player.stats.health}}<br/>
					DP: {{player.vars.defense}}
					DEF: {{player.stats.defense}}<br/>
					ATK: {{player.stats.attack}}<br/>
				</td>
			</tr></table>
			<form ng-submit="client.sendInput()">
				<input type="text" ng-model="client.game_input"/>
				<input type="submit" value="Send"/>
			</form>
			<br/>
			<button ng-click="client.sendMsg('quit game')">Quit Game</button>
			<button ng-click="client.sendMsg('logout')">Logout</button>
			<button ng-click="client.sendMsg('quit')">Disconnect</button>
		</div>
		<div>Status: {{client.status}}</div>
		<div>Data: {{client.data}}</div>
		<div class="err">{{client.err_msg}}</div>
	</div>
</body>
</html>